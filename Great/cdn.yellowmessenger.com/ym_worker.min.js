(() => {
    "use strict";
    onmessage = function(t) {
        var e = t.data;
        if ("analytics" === e.type) {
            var s = e;
            delete s.type,
                function() {
                    var t = arguments.length > 1 ? arguments[1] : void 0;
                    return fetch((arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "https://cloud.yellow.ai") + "/api/plugin/analytics?bot=" + t.bot, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                            "x-ym-bot-id": t.bot
                        },
                        body: JSON.stringify(t)
                    })
                }(e.host, s).then((function(t) {
                    t.status > 400 && postMessage("error :: " + t.status + " :: " + t.statusText), t.json()
                })).then((function() {
                    postMessage("success")
                })).catch((function() {
                    postMessage("error")
                }))
        }
    }
})();