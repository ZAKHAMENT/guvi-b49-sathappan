"use strict";
(self.webpackChunkweb_plugin = self.webpackChunkweb_plugin || []).push([
    [9779], {
        8700: (o, n, t) => {
            t.r(n), t.d(n, {
                countMessageInJourneySlug: () => s,
                hideAutoPopUp: () => m,
                showAutoPopUpData: () => w,
                updateAutoPopUpData: () => r
            });
            var e = t(7856),
                i = t(413),
                l = t(4596),
                u = t(7754),
                a = t(4199),
                d = t(9755),
                p = 0,
                c = !1;

            function s(o) {
                ++p > 1 && (c = !0), p < 2 && r(o, c)
            }

            function r(o, n) {
                var t, i, u, p, c, s, r = (0, l.t)("text.newMessageReceived"),
                    m = "Default description",
                    v = window.parent.document.getElementById("ym-auto-pop-up-header"),
                    g = window.parent.document.getElementById("ym-auto-pop-up-description");
                (null != o && null !== (t = o.parsedMessage) && void 0 !== t && t.message || null != o && null !== (i = o.parsedMessage) && void 0 !== i && i.quickReplies && "" !== (null == o || null === (u = o.parsedMessage) || void 0 === u || null === (u = u.quickReplies) || void 0 === u ? void 0 : u.title)) && !n ? (r = null === (p = window) || void 0 === p || null === (p = p.chat) || void 0 === p ? void 0 : p.botName, m = (0, a.Oy)(null == o || null === (c = o.parsedMessage) || void 0 === c ? void 0 : c.message) || (null == o || null === (s = o.parsedMessage) || void 0 === s || null === (s = s.quickReplies) || void 0 === s ? void 0 : s.title), d("#ym-auto-pop-up-notification-button", window.parent.document).addClass("hide")) : (d("#ym-auto-pop-up-notification-button", window.parent.document).hasClass("hide") && d("#ym-auto-pop-up-notification-button", window.parent.document).removeClass("hide"), d("#ym-auto-pop-up-description", window.parent.document).hide()), null != v && null != g && (v.textContent = r, g.innerHTML = (0, e.sanitize)(m)), w()
            }

            function w() {
                try {
                    var o, n, t, e, l, a, p, c, s = sessionStorage.getItem("chatBubbleClosed");
                    if (null !== (o = window.chat) && void 0 !== o && null !== (o = o.skin) && void 0 !== o && o.transparency || "transparency" === (null === (n = window.chat) || void 0 === n || null === (n = n.skin) || void 0 === n ? void 0 : n.desktopInitialState) || "true" === s) return;
                    var r = d("#ym-auto-pop-up-container", window.parent.document),
                        w = d("#ymDivBar", window.parent.document),
                        g = d("#ym-auto-pop-up-notification", window.parent.document),
                        h = d("#ym-auto-pop-up-close-button", window.parent.document).attr("aria-label", "Close chat bubble"),
                        b = d("#ym-auto-pop-up-close-button > svg > g > path", window.parent.document),
                        f = d("#ym-auto-pop-up-header", window.parent.document),
                        y = d("#ym-auto-pop-up-description", window.parent.document),
                        k = d("#ym-auto-pop-up-notification-button", window.parent.document),
                        C = d("#ym-auto-pop-up-notification-button > svg > path", window.parent.document),
                        x = d("#ymDivBar", window.parent.document).outerHeight();
                    r.show(150), r.css("bottom", "calc(".concat(x, "px + 30px + ").concat(w.css("bottom") || "24px", " - 20px)")), null !== (t = window) && void 0 !== t && null !== (t = t.ymConfig) && void 0 !== t && t.alignLeft || null !== (e = window.chat) && void 0 !== e && null !== (e = e.mapping) && void 0 !== e && null !== (e = e.skin) && void 0 !== e && e.alignLeft ? r.css("left", "".concat(w.css("left"))) : r.css("right", "".concat(w.css("right") || "20px")), r.css("align-items", "".concat(null !== (l = window) && void 0 !== l && null !== (l = l.ymConfig) && void 0 !== l && l.alignLeft || null !== (a = window.chat) && void 0 !== a && null !== (a = a.mapping) && void 0 !== a && null !== (a = a.skin) && void 0 !== a && a.alignLeft ? "flex-start" : "flex-end")), (null !== (p = window) && void 0 !== p && null !== (p = p.ymConfig) && void 0 !== p && p.containerTheme || "dark" === (null === (c = window.chat) || void 0 === c || null === (c = c.skin) || void 0 === c ? void 0 : c.containerTheme)) && (h.css("background", i.Nq.closeButton), h.css("border", "1px solid ".concat(i.Nq.borderColor)), b.attr("fill", i.Nq.SVG), g.css("background", i.Nq.closeButton), g.css("border", "1px solid ".concat(i.Nq.borderColor)), k.css("color", i.Nq.SVG), C.attr("fill", i.Nq.SVG), f.css("color", "#FFFFFF"), y.css("color", "#E1E1E1")), w.on("click", (function() {
                        "none" != d("#ym-auto-pop-up-container", window.parent.document).css("display") && m()
                    })), g.on("click", (function() {
                        m()
                    })), h.on("click", (function() {
                        r.hide("slow"), v()
                    }))
                } catch (o) {
                    (0, u.ZK)("Could not show pop up")
                }
            }

            function m() {
                try {
                    var o;
                    d("#ym-auto-pop-up-container", window.parent.document).hide("slow"), null === (o = window.parent.YellowMessengerPlugin) || void 0 === o || o.openBot(!1, "chat_bubble"), p = 0, c = !1, v()
                } catch (o) {
                    (0, u.ZK)("Could not hide pop up")
                }
            }

            function v() {
                window.ymConfig.enableCloseChatBubbleAction && sessionStorage.setItem("chatBubbleClosed", "true")
            }
        }
    }
]);